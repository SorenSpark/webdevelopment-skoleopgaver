<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>Canvas Cirkel Animation</title>
<style>
    body { background: #111; display: flex; justify-content: center; padding-top: 20px; }
    canvas { background: white; border: 2px solid black; }
</style>
</head>
<body>

<canvas id="canvas" width="500" height="300"></canvas>

<script>
// Canvas setup
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

// Circles
let circle1 = {
    x: 50,
    y: 50,
    r: 30,
    dx: 1,
    dy: 1
};

let circle2 = {
    x: 300,
    y: 200,
    r: 30,
    dx: -1,
    dy: -0.5
};

// Function to update circle position + bounce
function move(circle) {
    circle.x += circle.dx;
    circle.y += circle.dy;

    // Bounce on horizontal walls
    if (circle.x - circle.r < 0 || circle.x + circle.r > canvas.width) {
        circle.dx *= -1;
    }

    // Bounce on vertical walls
    if (circle.y - circle.r < 0 || circle.y + circle.r > canvas.height) {
        circle.dy *= -1;
    }
}

// Function to calculate distance
function distance(c1, c2) {
    return Math.hypot(c1.x - c2.x, c1.y - c2.y);
}

// Function to draw a circle
function drawCircle(c, fillColor, strokeColor, filled = true) {
    ctx.beginPath();
    ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);

    if (filled) {
        ctx.fillStyle = fillColor;
        ctx.fill();
    }
    ctx.strokeStyle = strokeColor;
    ctx.stroke();
}

// Animation loop
function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Move circles
    move(circle1);
    move(circle2);

    // Calculate distance
    const d = distance(circle1, circle2);
    const sumR = circle1.r + circle2.r;

    // Determine color relationship
    let fillColor1 = "green";
    let fillColor2 = "green";
    let strokeColor = "black";

    if (d < sumR - 10) {
        // They overlap clearly
        fillColor1 = fillColor2 = "red";
        strokeColor = "red";
    } else if (Math.abs(d - sumR) < 1) {
        // Just touching
        fillColor1 = fillColor2 = "white";
        strokeColor = "red";
    } else if (d < circle1.r) {
        // Very close
        fillColor1 = fillColor2 = "orange";
    } else if (d < circle1.r * 2) {
        // Close
        fillColor1 = fillColor2 = "blue";
    }

    // Draw circles
    drawCircle(circle1, fillColor1, strokeColor);
    drawCircle(circle2, fillColor2, strokeColor);

    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
